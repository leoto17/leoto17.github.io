<!DOCTYPE html>
<html lang="es">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test de estrés laboral</title>
    <meta name="description" content="El mejor test de estrés laboral disponible en Internet, para realizar en casa, en el trabajo o en la empresa."/>
    <meta name="keywords" content="test de estres laboral, test estres laboral, test, cuestionarios, encuestas"/>
    <link id="master" rel="stylesheet" href="masterlab.min.css">
</head>
  <body>
	<img id="logo_leasing" src="LOGO_LEASING.png" width="300px"/>
    <div id="fondotrick">
      <!-- fondotrick permite cambiar el fondo del documento, ya que body no responde debido a la carga de archivos js al final de documento -->
      <div id="contenedor">
        <div id="contenedortabla">
          <div id="fila">
            <div id="columnacentral">
              <main role="main">
                <article>
					<h2 id="test-online">TEST DE ESTRÉS LABORAL ONLINE</h2>
					<p><strong>Este test de estrés laboral es sencillo</strong>, consta de <strong>15</strong> preguntas que analizan su nivel de
					estrés laboral en base a <strong>5</strong> criterios: <strong>Horario y salario</strong>, <strong>carga de trabajo</strong>, <strong>relaciones sociales</strong>,
					<strong>condiciones físicas del ambiente laboral</strong> y <strong>salud</strong>. Está diseñado para obtener una puntuación
					entre <strong>0 (nada de estrés)</strong> y <strong>100 (estrés máximo)</strong>. Si su nivel de estrés es demasido elevado, también
					le recomendará algunos recursos útiles para combatirlo.</p>
					<p id="a0" class="siguepadtop"><span class="numtest"><strong>1/15 &raquo;</strong></span> Está satisfecho con el número de horas que trabaja:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a0" value="1"><span>Muy satisfecho</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a0" value="2"><span>Satisfecho</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a0" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a0" value="4"><span>Insatisfecho</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a0" value="5"><span>Muy insatisfecho</span></label>
					</div>
					<p id="a1" class="siguepadtop"><span class="numtest"><strong>2/15 &raquo;</strong></span> Está satisfecho con el sistema de turnos establecido (se encuentra cómodo trabajando por la mañana,
					  tarde o noche, o con las variaciones que se le imponen desde la dirección):</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a1" value="1"><span>Muy satisfecho</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a1" value="2"><span>Satisfecho</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a1" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a1" value="4"><span>Insatisfecho</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a1" value="5"><span>Muy insatisfecho</span></label>
					</div>
					<p id="a2" class="siguepadtop"><span class="numtest"><strong>3/15 &raquo;</strong></span> Está satisfecho con el salario o paga que recibe por sus servicios:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a2" value="1"><span>Muy satisfecho</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a2" value="2"><span>Satisfecho</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a2" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a2" value="4"><span>Insatisfecho</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a2" value="5"><span>Muy insatisfecho</span></label>
					</div>
					<p id="a3" class="siguepadtop"><span class="numtest"><strong>4/15 &raquo;</strong></span> En su trabajo apenas tiene tiempo para tomar un pequeño descanso:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a3" value="5"><span>Muy de acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a3" value="4"><span>De acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a3" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a3" value="2"><span>En desacuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a3" value="1"><span>Muy en desacuerdo</span></label>
					</div>
					<p id="a4" class="siguepadtop"><span class="numtest"><strong>5/15 &raquo;</strong></span> En su trabajo realiza tareas que requieren un alto nivel de concentración:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a4" value="5"><span>Muy de acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a4" value="4"><span>De acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a4" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a4" value="2"><span>En desacuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a4" value="1"><span>Muy en desacuerdo</span></label>
					</div>
					<p id="a5" class="siguepadtop"><span class="numtest"><strong>6/15 &raquo;</strong></span> Al salir del trabajo se encuentra agotado física o mentalmente:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a5" value="5"><span>Muy de acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a5" value="4"><span>De acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a5" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a5" value="2"><span>En desacuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a5" value="1"><span>Muy en desacuerdo</span></label>
					</div>
					<p id="a6" class="siguepadtop"><span class="numtest"><strong>7/15 &raquo;</strong></span> Trata habitualmente con clientes o usuarios enojados:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a6" value="5"><span>Muy de acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a6" value="4"><span>De acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a6" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a6" value="2"><span>En desacuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a6" value="1"><span>Muy en desacuerdo</span></label>
					</div>
					<p id="a7" class="siguepadtop"><span class="numtest"><strong>8/15 &raquo;</strong></span> Cuenta con el apoyo de sus jefes o superiores (le ayudan cuando lo necesita y prestan
					  atención a sus opiniones, quejas y reclamaciones):</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a7" value="1"><span>Muy de acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a7" value="2"><span>De acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a7" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a7" value="4"><span>En desacuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a7" value="5"><span>Muy en desacuerdo</span></label>
					</div>
					<p id="a8" class="siguepadtop"><span class="numtest"><strong>9/15 &raquo;</strong></span> Su relación con sus compañeros de trabajo es:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a8" value="5"><span>Muy mala</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a8" value="4"><span>Mala</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a8" value="3"><span>Neutra</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a8" value="2"><span>Buena</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a8" value="1"><span>Muy buena</span></label>
					</div>
					<p id="a9" class="siguepadtop"><span class="numtest"><strong>10/15 &raquo;</strong></span> En su trabajo realiza tareas insalubres o peligrosas:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a9" value="5"><span>Muy de acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a9" value="4"><span>De acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a9" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a9" value="2"><span>En desacuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a9" value="1"><span>Muy en desacuerdo</span></label>
					</div>
					<p id="a10" class="siguepadtop"><span class="numtest"><strong>11/15 &raquo;</strong></span> La temperatura en su puesto de trabajo es confortable:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a10" value="1"><span>Muy de acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a10" value="2"><span>De acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a10" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a10" value="4"><span>En desacuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a10" value="5"><span>Muy en desacuerdo</span></label>
					</div>
					<p id="a11" class="siguepadtop"><span class="numtest"><strong>12/15 &raquo;</strong></span> Está expuesto a ruidos o sonidos molestos en su puesto de trabajo:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a11" value="5"><span>Muy de acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a11" value="4"><span>De acuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a11" value="3"><span>Neutro</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a11" value="2"><span>En desacuerdo</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a11" value="1"><span>Muy en desacuerdo</span></label>
					</div>
					<p id="a12" class="siguepadtop"><span class="numtest"><strong>13/15 &raquo;</strong></span> Cuánto tiempo pasa durmiendo de media cada día:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a12" value="5"><span>Menos de 4 horas</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a12" value="4"><span>Más de 4 horas y menos de 6</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a12" value="3"><span>Entre 6 horas y menos de 7</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a12" value="1"><span>Entre 7 y 9 horas</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a12" value="3"><span>Más de 9 horas</span></label>
					</div>
					<p id="a13" class="siguepadtop"><span class="numtest"><strong>14/15 &raquo;</strong></span> Los problemas en su trabajo le han llevado a consumir drogas para evadirse o medicamentos
					  como ansiolíticos, antidepresivos o somníferos:</p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a13" value="1"><span>Nunca</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a13" value="2"><span>Alguna vez</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a13" value="3"><span>Varias veces al mes</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a13" value="4"><span>Varias veces a la semana</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a13" value="5"><span>Todos los días</span></label>
					</div>
					<p id="a14" class="siguepadtop"><span class="numtest"><strong>15/15 &raquo;</strong></span> Diga cuántos de los siguientes síntomas sufre habitualmente (varias veces al mes):
					  insomnio, ansiedad, irritabilidad, depresión, falta de energía o problemas gastrointestinales: </p>
					<div class="siguepad testel">
						<label data-role="none"><input data-role="none" type="radio" name="a14" value="1"><span>Ninguno</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a14" value="2"><span>1 de ellos</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a14" value="3"><span>Entre 2 y 3 de ellos</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a14" value="4"><span>Entre 4 y 5 de ellos</span></label>
						<label data-role="none"><input data-role="none" type="radio" name="a14" value="5"><span>Todos ellos</span></label>
					</div>
					<div class="siguepad botontestbox">
					  <button data-role="none" type="button" id="botontest" class="newYT" onclick="Manejalo()">Calcular resultado</button>
					</div>
					<div id="cajatest">
					  <p id="resultado"></p>
					  <div id="leyendatest" class="siguepad">
						<div>0%</div><div>100%</div>
					  </div>
					  <div class="siguepad">
						<div id="gradiente">
						 <div id="marca"></div>
						</div>
					  </div>
					  <span id ="avisotest" class="siguepad">*Los resultados de este test son orientativos y en ningún caso constituyen un diagnóstico o sustituyen
					  la opinión de un profesional cualificado.</span>
					</div>
					<p><strong>Un menor nivel de estrés aporta los siguientes beneficios</strong>:</p>
					<ul>
					  <li>Mejor estado de ánimo.</li>
					  <li>Mejores relaciones sociales, tanto laborales como privadas.</li>
					  <li>Menor ausentismo laboral, incluyendo bajas por enfermedad.</li>
					  <li>Mayor creatividad.</li>
					  <li>Mayor capacidad de concentración.</li>
					  <li>Mayor capacidad para aprender cosas nuevas.</li>
					</ul>
					<script>


					function Manejalo(){

					  var numPreguntas = 15;
					  var numOpciones = 5;
					  var valorActual;
					  var valor = 0;
					  var elemActual;
					  var nameActual;
					  var noMarcados = []; //array vacio
					  var veryGoodCounter = 0; //Num de valoraciones muy positivas
					  //Array con los names de los elementos especialmente nocivos (sin incluir los de idParaAjuste):
					  var namesNocivos = ["a5","a6","a8"];
					  var veryBadCounter = 0; //Num de valoraciones muy negativas con names nocivos
					  var idParaAjuste = ["a13","a14"]; //id de elementos para ajuste final (SOLO PUEDE HABER 2, O MODIFICAR EL SWITCH)
					  var paraAjuste = []; //valor de los elementos para ajuste final
					  var resultado;
					  var radiosActuales;


					//IMPORTANTE: El párrafo asociado a cada grupo de radios tiene el mismo id que sus names.

					  for(i=0; i < numPreguntas; i++){  //hacemos loop por todas las preguntas

						//elemento actual:
						elemActual = document.querySelector("input[name = \"a"+i+"\"]:checked");

						//Si el elemento tiene un check válido:
						if(elemActual){
						  //conversion a entero del value del input en estado checked:
						  valorActual = parseInt(elemActual.value);
						  //alert(valorActual);
						  nameActual = elemActual.name;

						  //se lo sumamos a valor:
						  valor += valorActual;

						  if(valorActual === 1){ //valoracion muy positiva

							++veryGoodCounter;

							//Si hay valoracion muy negativa y el name del elemento actual esta contenido en el array namesNocivos:
							//SINTAXIS: array.indexOf(itemabuscar, start[opcional]);
						  }else if(valorActual === 5 && namesNocivos.indexOf(nameActual) > -1){

							  ++veryBadCounter;

						  }

						  //Si el name del elemento actual esta contenido en el array idParaAjuste:
						  if(idParaAjuste.indexOf(nameActual) > -1){

							//alert("hay un elemento marcado para ajuste");

							switch(nameActual) {
								case idParaAjuste[0]:
									paraAjuste.push(valorActual);
									//alert(paraAjuste[0]);
									break;
								case idParaAjuste[1]:
									paraAjuste.push(valorActual);
									//alert(paraAjuste[1]);
									break;
								default: console.log("Error en switch");

							}

						  }

						}else{

						  //memorizamos los elementos no marcados:
						  noMarcados.push("a"+i);

						}

					  }

					  //ahora chekamos que no haya ningun elemento vacio:

					  if(noMarcados.length === 0){ //todo ok, calculamos

						//enviamos todos los parametros necesarios incluyendo el array paraAjuste:
						calculaResultado(valor,numPreguntas,numOpciones,veryGoodCounter,veryBadCounter,paraAjuste);
						return; //fin de la historia

					  }else{ //hay elementos no marcados

						alert("Por favor, complete los campos vacíos.");

						/*alert("Los elementos no marcados son: ");
						for(i=0; i < noMarcados.length; i++){
						  alert(noMarcados[i]);
						}*/

						//marcamos las preguntas (los párrafos) correspondientes en rojo:
						for(i=0; i < noMarcados.length; i++){

						  document.getElementById(noMarcados[i]).style.color = "red";

						  //seleccionamos los radios actuales afectados en esta iteracion:
						  radiosActuales = document.getElementsByName(noMarcados[i]);
						  //loop por todos los radios actuales (hay que añadir el manejador 1 x 1):
						  for(j = 0; j < numOpciones; j++ ){

							radiosActuales[j].addEventListener("click",quitaRojo);

						  }
						}
					  }

					} //fin Manejalo

					function quitaRojo(){
					  //this.name equivaldria a a0, a1..etc, es decir, la id del parrafo obtenida a traves del input radio:
					  document.getElementById(this.name).removeAttribute("style");
					}


					function calculaResultado(valor,numPreguntas,numOpciones,veryGoodCounter,veryBadCounter,paraAjuste){

					  var porcentaje = valor/numPreguntas*100/numOpciones; //resultado bruto en porcentaje
					  //supuesto en el que todas las valoraciones son muy positivas:
					  if(veryGoodCounter === numPreguntas){
						porcentaje = 0; //no hay estres
					  }

					  //ajustes con veryBadCounter:
					  if(veryBadCounter >= 1){

						switch (true) {

						  case (veryBadCounter === 3) : porcentaje += porcentaje/100*15; break;  //+15%
						  case (veryBadCounter === 2) : porcentaje += porcentaje/100*10; break;  //+10%
						  case (veryBadCounter === 1) : porcentaje += porcentaje/100*5; break;   //+5%
						  default: console.log("Error en switch");
						}
					  }

					  //##### Ajustes finales #####:

					  var sumAjuste = 0; //para suma de los valores de ajuste
					  var long = paraAjuste.length; //obtenemos la longitud del array paraAjuste
					  for(i=0; i<long; i++){
						sumAjuste += paraAjuste[i]; //suma de las valoraciones de ajuste
					  }

					  //supuestos finales:

					  switch (true) {

						case (sumAjuste === 10) :porcentaje += porcentaje/100*25; break;  //+25%
						case (sumAjuste === 9) : porcentaje += porcentaje/100*22; break;  //+22%..etc
						case (sumAjuste === 8) : porcentaje += porcentaje/100*20; break;
						case (sumAjuste === 7) : porcentaje += porcentaje/100*18; break;
						case (sumAjuste === 6) : porcentaje += porcentaje/100*16; break;
						case (sumAjuste === 5) : porcentaje += porcentaje/100*14; break;
						case (sumAjuste === 4) : porcentaje += porcentaje/100*12; break;
						case (sumAjuste === 3) : porcentaje += porcentaje/100*10; break;
						default: console.log("error en switch");
					  }

					  //ajustamos posible exceso:
					  if(porcentaje > 100){
						porcentaje = 100;
					  }

					  //alert("El porcentaje final es: " + porcentaje + "%");
					  var nivel;
					  var redondeo = Math.round(porcentaje);


					  switch (true) {

						case (redondeo === 0) :
						  nivel = "<strong>Usted no tiene estrés<strong>*.";
						  break;
						case (redondeo < 35) :
						  nivel = "<strong>Nivel bajo de estrés</strong>*.";
						  break;
						case (redondeo >= 35) && (redondeo <= 50) :
						  nivel = "<strong>Nivel medio de estrés</strong>*.";
						  break;
						case (redondeo > 50) && (redondeo <= 60) :
						  nivel = "<strong>Nivel medio-alto de estrés</strong>*.";
						  break;
						case (redondeo > 60) && (redondeo < 80) :
						  nivel = "<strong>Nivel alto de estrés</strong>*.";
						  break;
						case (redondeo >= 80) :
						  nivel = "<strong>Nivel muy alto de estrés</strong>*.";
						  break;
						default: console.log("Error en switch");
					  }

					  //escribimos el resultado:
					  document.getElementById("resultado").innerHTML = "Resultado: "+"<strong>"+redondeo+"</strong>"+"/100 | "+nivel;


					  //situamos la marca sobre el gradiente de colores:
					  document.getElementById("marca").style.left = redondeo+"%";
					  //mostramos cajatest:
					  document.getElementById("cajatest").style.display = "block";


					  if(redondeo > 35){  //si nivel de estrés es > 35:
						//mostramos los links recomendados antiestres:
						document.getElementById("recomtest").style.display = "block";

					  }else if(document.getElementById("recomtest").style.display === "block"){
						//lo ocultamos de nuevo:
						document.getElementById("recomtest").style.display = "none";

					  }


					}

					</script>
					</article>
					</main>
				</div>
			</div>
		</div>
	</div>
  </body>
</html>
